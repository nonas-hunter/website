---
layout: base
---
{% include 3-modules/example-enviornment.html %}

<script>
//https://stackoverflow.com/questions/27373649/jekyll-passing-variable-to-form-page
// this script will automatically fill name and price fields
// depending on what's passed in the url
var fillForm = function () {
    var queryString = document.location.search.split("+").join(" ");
    var params = {}, tokens, re = /[?&]?([^=]+)=([^&]*)/g;

    while (tokens = re.exec(queryString)) {
        params[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);
    }

    if (params.sketch == undefined){
        // no value in the query string
        // here you have to manage this use case : redirect or print a message to user
    }else{
        // filling form fields with query string values
        console.log(params.sketch);
        fetch(params.sketch).then((resp) => resp.text()).then(function(response){
          document.getElementById('textAreaCode').value = response;
          runLiveExample();
          return response;
        }).catch(function(status) {
          console.log('Error' + status);
        });

    }
};
fillForm();

</script>
